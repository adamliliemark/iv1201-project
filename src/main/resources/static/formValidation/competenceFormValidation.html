<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script th:fragment="validator" th:inline="javascript">
    document.addEventListener("DOMContentLoaded", () => {
        document.getElementById("competenceForm").addEventListener("submit", (event) => {
            let competence = document.competenceForm.competence.value;
            let competenceYears = document.competenceForm.years.value;
            if(competence === null) {
                errorOverlayOn([[#{error.competenceMissing}]] + "<p>" + [[#{error.closeMessage}]]);
                event.preventDefault();
            }
            if(competenceYears === "" || competenceYears === null) {
                errorOverlayOn([[#{error.competenceYearsMissing}]] + "<p>" + [[#{error.closeMessage}]]);
                event.preventDefault();
            }
            if(competenceYears < 0) {
                errorOverlayOn([[#{error.competenceYearsNegative}]] + "<p>" + [[#{error.closeMessage}]]);
                event.preventDefault();
            }
            return true;
        })
    })
</script>

</body>
</html>